<html>
<head>
<title>Sensor</title>
<script>

function geoLocationSuccess(position) {
    document.getElementById("gps_coords").innerHTML = "<br>Lat " + position.coords.latitude + "<br> Long " + position.coords.longitude;
}
function geoLocationError(error) {
    document.getElementById("gps_coords").innerHTML = "GPS error " + error.code + " " + error.message;
}

function headingSuccess(heading) {
    document.getElementById("heading").innerHTML = heading.magneticHeading + " degrees";

}
function headingError(error) {
    document.getElementById("heading").innerHTML = "Heading error " + error.code + " " + error.message;
}

function accelerometerSuccess(accel) {
    document.getElementById("acceleration").innerHTML = "<br>X = " + accel.x + "m/s^2<br> Y = " + accel.y + "<br> Z = " + accel.z;

}
function accelerometerError(error) {
    document.getElementById("acceleration").innerHTML = "Accelerometer error " + error.code + " " + error.message;
}


function updateSensors() {
  // get GPS coordinates...
  if (navigator && navigator.geolocation && navigator.geolocation.getCurrentPosition)
    navigator.geolocation.getCurrentPosition(geoLocationSuccess, geoLocationError);
  else
    document.getElementById("gps_coords").innerHTML = "no geolocation data";

  // get heading...
  if (navigator && navigator.compass && navigator.compass.getCurrentHeading)
    navigator.compass.getCurrentHeading(headingSuccess, headingError);
  else
    document.getElementById("heading").innerHTML = "no heading info";

  // get device acceleration
  if (navigator && navigator.accelerometer && navigator.accelerometer.getCurrentAcceleration)
    navigator.accelerometer.getCurrentAcceleration(accelerometerSuccess, accelerometerError);
  else
    document.getElementById("acceleration").innerHTML = "no accelerometer";

  // get device information
  if (device && device.model && device.platform && device.version)
    document.getElementById("device").innerHTML = device.model + ", " + device.platform + " " + device.version;
  else
    document.getElementById("device").innerHTML = "no device info";

  setTimeout(updateSensors,1000);
}

function onDeviceReady() {
  updateSensors();
}
</script>

</head>
<body>
<h1>Sensor values...</h1>

<p><b>GPS Coords: </b> <span id="gps_coords"></span></p>
<p><b>Heading: </b> <span id="heading"></span></p>
<p><b>Acceleration: </b> <span id="acceleration"></span></p>
<p><b>Device: </b> <span id="device"></span></p>
<p><b>: </b> <span id=""></span></p>
<p><b>: </b> <span id=""></span></p>
<p><b>: </b> <span id=""></span></p>
<p><b>: </b> <span id=""></span></p>
<p><b>: </b> <span id=""></span></p>
<p><b>: </b> <span id=""></span></p>
<p><b>: </b> <span id=""></span></p>
<p><b>: </b> <span id=""></span></p>

<script type="text/javascript" src="phonegap.js"></script>
<script type="text/javascript">
  document.addEventListener('deviceready', onDeviceReady, false);
</script>

</body>
</html>
